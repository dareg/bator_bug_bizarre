 SUBROUTINE blackbox( &
&     KOUT, KATEGORY, KPRINT, &
&     KTEST_MDI, KFILL_FBVECTOR, &
&     KCMBLI, ZCMCCC, &
&     KFEEDBACK, KFEEDBACK_SIZE, &
&     ZDATA, KDATA)
USE PARKIND1  ,ONLY : JPIM     ,JPRB
USE YOMHOOK, ONLY : DR_HOOK, LHOOK
IMPLICIT NONE
INTEGER(KIND=JPIM), INTENT(IN)  :: KOUT, KATEGORY, KPRINT, KTEST_MDI, KFILL_FBVECTOR
INTEGER(KIND=JPIM), INTENT(OUT) :: KCMBLI
REAL(KIND=JPRB),    INTENT(OUT) :: ZCMCCC
INTEGER(KIND=JPIM), INTENT(IN)  :: KFEEDBACK_SIZE, KDATA
INTEGER(KIND=JPIM), INTENT(OUT) :: KFEEDBACK(0:KFEEDBACK_SIZE)
REAL(KIND=JPRB), INTENT(IN)     :: ZDATA(KDATA)
! === END OF INTERFACE BLOCK ===

!--   NAME_INDEX-definition
#include "yomblackbox.h"

REAL(KIND=JPRB) :: ZHOOK_HANDLE

!     
!     Call the C-interface layer of the BLACKLIST condition stuff
!

IF (LHOOK) CALL DR_HOOK('BLACKBOX', 0, ZHOOK_HANDLE)

 IF (KFILL_FBVECTOR > 0) KFEEDBACK(:) = 0
 CALL blacklist( &
&     KATEGORY, KPRINT, &
&     KTEST_MDI, KFILL_FBVECTOR, &
&     KCMBLI, ZCMCCC, &
&     KFEEDBACK(0), 1+KFEEDBACK_SIZE, &
&     NAME_INDEX(0), NAME_INDEX_LEN, &
&     ZDATA(1), KDATA)

IF (LHOOK) CALL DR_HOOK('BLACKBOX', 1, ZHOOK_HANDLE)

END SUBROUTINE blackbox
