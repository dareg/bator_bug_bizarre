!depfile:snow3L_isba.F90
MODULE MODI_SNOW3L_ISBA
INTERFACE
SUBROUTINE SNOW3L_ISBA(IO, G, PK, PEK, DK, DEK, DMK, OMEB, HIMPLICIT_WIND,  &
                      TPTIME,PTSTEP, PVEGTYPE, PTG, PCT, PSOILHCAPZ,        &
                      PSOILCONDZ, PPS, PTA,PSW_RAD, PQA, PVMOD, PVDIR,      &
                      PLW_RAD, PRR, PSR, PRHOA, PUREF,PEXNS, PEXNA,         &
                      PDIRCOSZW,PSLOPEDIR, PZREF, PALB, PD_G, PDZG,         &
                      PPEW_A_COEF, PPEW_B_COEF, PPET_A_COEF, PPEQ_A_COEF,   &
                      PPET_B_COEF, PPEQ_B_COEF, PTHRUFAL, PGRNDFLUX,        &
                      PFLSN_COR,PGSFCSNOW, PEVAPCOR, PLES3L, PLEL3L, PEVAP, &
                      PSNOWSFCH,PDELHEATN, PDELHEATN_SFC, PRI,PZENITH,      &
                      PANGL_ILLUM, PDELHEATG,PDELHEATG_SFC,PQS,             &
                      KTAB_SYT,P_DIR_SW,P_SCA_SW,PIMPWET,PIMPDRY)
USE MODD_ISBA_OPTIONS_n, ONLY : ISBA_OPTIONS_t
USE MODD_SFX_GRID_n, ONLY : GRID_t
USE MODD_ISBA_n, ONLY : ISBA_PE_t, ISBA_P_t
USE MODD_DIAG_n, ONLY : DIAG_t
USE MODD_DIAG_EVAP_ISBA_n, ONLY : DIAG_EVAP_ISBA_t
USE MODD_DIAG_MISC_ISBA_n, ONLY : DIAG_MISC_ISBA_t
USE MODD_TYPE_DATE_SURF, ONLY: DATE_TIME
TYPE(ISBA_OPTIONS_t), INTENT(INOUT) :: IO
TYPE(GRID_t), INTENT(INOUT) :: G
TYPE(ISBA_P_t), INTENT(INOUT) :: PK
TYPE(ISBA_PE_t), INTENT(INOUT) :: PEK
TYPE(DIAG_t), INTENT(INOUT) :: DK
TYPE(DIAG_EVAP_ISBA_t), INTENT(INOUT) :: DEK
TYPE(DIAG_MISC_ISBA_t), INTENT(INOUT) :: DMK
LOGICAL, INTENT(IN)                 :: OMEB       ! True = coupled to MEB. This means surface fluxes ae IMPOSED
 CHARACTER(LEN=*),     INTENT(IN)    :: HIMPLICIT_WIND   ! wind implicitation option
TYPE(DATE_TIME), INTENT(IN)         :: TPTIME     ! current date and time
REAL, INTENT(IN)                    :: PTSTEP
REAL, DIMENSION(:,:), INTENT(IN)    :: PVEGTYPE ! fraction of each vegetation
REAL, DIMENSION(:,:), INTENT(INOUT) :: PTG
REAL, DIMENSION(:,:), INTENT(IN)    :: PSOILHCAPZ, PD_G, PDZG
REAL, DIMENSION(:),   INTENT(IN)    :: PCT, PSOILCONDZ  
REAL, DIMENSION(:), INTENT(IN)      :: PPS, PTA, PSW_RAD, PQA,                       &
                                       PVMOD, PVDIR, PLW_RAD, PSR, PRR  
REAL, DIMENSION(:,:), INTENT(IN)    :: P_DIR_SW, P_SCA_SW
REAL, DIMENSION(:,:), INTENT(IN)    ::PIMPWET,PIMPDRY
REAL, DIMENSION(:), INTENT(IN)      :: PZREF, PUREF, PEXNS, PEXNA, PDIRCOSZW,PSLOPEDIR, PRHOA, PALB
REAL, DIMENSION(:), INTENT(IN)      :: PPEW_A_COEF, PPEW_B_COEF,                   &
                                       PPET_A_COEF, PPEQ_A_COEF, PPET_B_COEF,      &
                                       PPEQ_B_COEF  
INTEGER , DIMENSION(:), INTENT(IN)   ::  KTAB_SYT    ! Array of index defining
REAL, DIMENSION(:), INTENT(INOUT)   :: PLES3L, PLEL3L, PEVAP, PGRNDFLUX, PDELHEATG, PDELHEATG_SFC
REAL, DIMENSION(:), INTENT(INOUT)   :: PRI
REAL, DIMENSION(:), INTENT(OUT)     :: PTHRUFAL, PFLSN_COR, PEVAPCOR, PGSFCSNOW
REAL, DIMENSION(:), INTENT(OUT)     :: PSNOWSFCH, PDELHEATN, PDELHEATN_SFC
REAL, DIMENSION(:), INTENT(OUT)     :: PQS
REAL, DIMENSION(:), INTENT(IN)      :: PZENITH    ! solar zenith angle
REAL, DIMENSION(:), INTENT(IN)      :: PANGL_ILLUM !BC
END SUBROUTINE SNOW3L_ISBA

END INTERFACE
END MODULE MODI_SNOW3L_ISBA
